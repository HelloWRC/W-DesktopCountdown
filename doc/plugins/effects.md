# 倒计时效果

倒计时效果由插件提供，会由各个倒计时窗口将效果实例化，以便单独控制倒计时窗口。在特效被启用后，会先实例化特效，然后调用`set_enabled()`方法。在特效设置更新时，会调用`update_config()`方法。当特效被禁用时，会调用`unload()`方法，并删除特效对象。

## 定义

倒计时效果是一个类。这个类应有以下静态属性：

| 名称                   | 类型   | 是否必填 | 描述                                                         | 示例                   |
| ---------------------- | ------ | -------- | ------------------------------------------------------------ | ---------------------- |
| `effect_id`            | 字符串 | 是       | 用来标识效果的唯一id                                         | `'wdcd.sample_effect'` |
| `effect_friendly_name` | 字符串 | 是       | 效果名称，将会显示在效果选择页面                             | `'示例效果'`           |
| `effect_description`   | 字符串 | 是       | 效果描述                                                     | `'这是一个示例效果'`   |
| `default_config`       | 字典   | 是       | 默认配置，可以通过这些信息生成配置界面。详细语法请参见插件指南中的[配置编写](plugins.md#配置编写)。 | 略                     |

## 核心方法

以下是必须定义的方法：

### `__init__(app, countdown, config)`

构造方法，同时接受应用对象、倒计时窗口对象和处理过的配置字典。

`app`：`QApplication`对象

`countdown`：倒计时窗口对象

`config`：配置字典，经过初始化处理。详见插件指南中的[配置编写](plugins.md#配置编写)。

### `set_enabled()`

启用特效。

### `update_config(config)`

更新特效。

`config`：更新的配置字典

### `unload()`

卸载特效。

## 可选方法

